## BUGS
- dont allow the same avatar to be picked by multiple players
- i am able to join a room that doesnt exist
- player gets diconnected on screen close
- long username limit/truncation
- play again is starting a new game
- if all players have disconnecting, game should end
- Trailing dots may go to the next line on smaller screens
- result screen
    - player: remove leaderboard or fix the cropping
    - host: make the leaderboard more compact. its scrolling too much cant see progress bar

- if you refresh a game, it gets stuck on a screen that says "setting up game room..." unless you do a hard reload
- if x players start the game but one drops off and the remianing players submit their answers, question round should end
- should be able to rejoin a current game

IF There is a big issue with the height, add back the min-h-screen class to the relevant divs in host-game-layout.tsx


## ENHANCEMENTS
- when restarting a game, take back to qr lobby with the same room code
- rebus and trivia should have diff rooms
- Handle room lifecycle events better
    - if host disconnects, end the game for everyone
    - if a user disconnects, show a message to the host (maybe pause the game?)
- re design the game cards on home screen

## FEATURES
- connect to rebus db 
- repick an avatar
- player extra time request (later)
    - add an option to request for an extra 15 seconds on the player view
    - if everyone requests it, add 15 seconds to the timer. 
    - show a small counter of how many people have requested extra time on the host view.
- sound effects
    - ticking sound during last 5 seconds
    - sound when time is up
    - sound when answer is submitted
- host needs an account
    - to purchase packs later on
- Let players emote during the game
    - thumbs up, clap, laugh, etc.
    - show a small animation on the player view when an emote is sent
    - limit the number of emotes per game to avoid spam
- Skeleton
    - Use Shadcn UI's Skeleton component to show loading states
    - Show loading sign on the main screen before launching the game

## Code improvements
- Add types all across the app
- Custom components for buttons, modals, etc. to avoid code duplication
- reate a refactor expert agent and use. it every so often

## Larger ideas
- Users should be able to create their own trivia questions and submit it to a database. We should then be able to review and add it to the game packs.
- They should get rewarded with some in-app currency for every approved submission.


## Game flow improvements
- Rejoining
    - allow players to rejoin if they get disconnected. We need to keep track of players by their unique ids and allow them to rejoin the game in progress, and restore their state (score, avatar, etc.)
    - Show the player a message if they get disconnected. Show a reconnect button that tries to reconnect them to the game. Reconnection: Allow a connection only if the cookie or deviceId matches a player already in the list (handling disconnects).
    - Explicit End: Host clicks "End Game" -> Delete key from Redis immediately.


## Different game layouts
- Common landing page layout for all games extracted out from host-game-layout.tsx
- Each game layout should accept a gameData and roomState prop to deal with common room related state as well as specific game data.

## Room Code Management
- Room code Uniqueness: Ensure generated room codes are unique and not currently in use.
- Room code Sanitization: Remove ambiguous characters if you use numbers (e.g., remove 'I', '1', '0', 'O').
- Also avoid offensive words in room codes.
- Heartbeats: As long as the Host is connected via WebSocket, send a "heartbeat" every minute to reset the TTL to 1 hour. This ensures active rooms stay open, but if the Host crashes or closes the tab, the room expires automatically after an hour.


## Game end action button
- Show a recommendation marquee at the end of the game with the list of other packs available to play.
- Add another button below this to go to "Explore Game Library".
